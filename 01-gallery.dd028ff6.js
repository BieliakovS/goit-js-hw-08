/*!
	By Andr√© Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.de
	Available for use under the MIT License
	Version 2.1.0
*/
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var SimpleLightbox=function(){function t(e,i){var n=this;_classCallCheck(this,t),_defineProperty(this,"a",{sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox"}),_defineProperty(this,"b",void 0),_defineProperty(this,"c",!1),_defineProperty(this,"d","ontouchstart"in window),_defineProperty(this,"e",void 0),_defineProperty(this,"f","pushState"in history),_defineProperty(this,"g",!1),_defineProperty(this,"h",!1),_defineProperty(this,"i",!1),_defineProperty(this,"j",!1),_defineProperty(this,"k",!1),_defineProperty(this,"l",!1),_defineProperty(this,"m",null),_defineProperty(this,"n",void 0),_defineProperty(this,"o","simplelightbox"),_defineProperty(this,"p",{}),_defineProperty(this,"q",[]),_defineProperty(this,"r",0),_defineProperty(this,"s",0),_defineProperty(this,"t",null),_defineProperty(this,"u",0),_defineProperty(this,"v",{a:0,b:0,c:0,d:0,e:0,f:0,g:!1,h:0,i:!1,j:0,k:0,l:0,m:0,n:0,o:0,p:!1,q:0,r:0,s:0,t:0,u:0,v:0,w:1,x:0,y:0,z:0,A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,I:0,J:0,K:0,L:0,M:!1,N:0}),this.options=Object.assign(this.a,i),"string"==typeof e?(this.t=e,this.elements=Array.from(document.querySelectorAll(e))):this.elements=void 0!==e.length&&0<e.length?Array.from(e):[e],this.relatedElements=[],this.b=this.calculateTransitionPrefix(),this.c=!1!==this.b,this.e=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.createDomNodes(),this.options.close&&this.p.a.appendChild(this.p.b),this.options.nav&&this.p.a.appendChild(this.p.d),this.options.spinner&&this.p.a.appendChild(this.p.e),this.addEventListener(this.elements,"click."+this.o,(function(t){if(n.isValidLink(t.currentTarget)){if(t.preventDefault(),n.h)return!1;n.r=n.elements.indexOf(t.currentTarget),n.openImage(t.currentTarget)}})),this.options.docClose&&this.addEventListener(this.p.f,["click."+this.o,"touchstart."+this.o],(function(t){n.g&&n.close()})),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.o,(function(t){t.target.classList.contains("sl-overlay")&&t.preventDefault()})),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.o,this.throttle((function(t){if(n.v.a=0,n.h&&"Escape"===t.key)return n.n.setAttribute("src",""),n.h=!1,n.close();n.g&&(t.preventDefault(),"Escape"===t.key&&n.close(),!n.h&&-1<["ArrowLeft","ArrowRight"].indexOf(t.key)&&n.loadImage("ArrowRight"===t.key?1:-1))}),this.options.throttleInterval)),this.addEvents()}return _createClass(t,[{key:"createDomNodes",value:function(){this.p.f=document.createElement("div"),this.p.f.classList.add("sl-overlay"),this.p.f.dataset.opacityTarget=".7",this.p.b=document.createElement("button"),this.p.b.classList.add("sl-close"),this.p.b.innerHTML=this.options.closeText,this.p.e=document.createElement("div"),this.p.e.classList.add("sl-spinner"),this.p.e.innerHTML="<div></div>",this.p.d=document.createElement("div"),this.p.d.classList.add("sl-navigation"),this.p.d.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.p.c=document.createElement("div"),this.p.c.classList.add("sl-counter"),this.p.c.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.p.g=document.createElement("div"),this.p.g.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass&&this.p.g.classList.add(this.options.captionClass),this.p.h=document.createElement("div"),this.p.h.classList.add("sl-image"),this.p.a=document.createElement("div"),this.p.a.classList.add("sl-wrapper"),this.options.className&&this.p.a.classList.add(this.options.className)}},{key:"throttle",value:function(t,e){var i;return function(){i||(t.apply(this,arguments),i=!0,setTimeout((function(){return i=!1}),e))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||"pathname"in t&&new RegExp("("+this.options.fileExt+")$","i").test(t.pathname)}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t&&"-o"}},{key:"toggleScrollbar",value:function(t){var e=0;if("hide"===t){var i=window.innerWidth;if(!i){var n=document.documentElement.getBoundingClientRect();i=n.right-Math.abs(n.left)}if(document.body.clientWidth<i){var s=document.createElement("div"),o=parseInt(document.body.style.paddingRight||0,10);s.classList.add("sl-scrollbar-measure"),document.body.appendChild(s),e=s.offsetWidth-s.clientWidth,document.body.removeChild(s),document.body.dataset.originalPaddingRight=o,0<e&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=o+e+"px")}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight;return e}},{key:"close",value:function(){var t=this;if(!this.g||this.h||this.i)return!1;this.i=!0;var e=this.relatedElements[this.nIndex];for(var i in e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.l=!1,this.k||this.resetHash()),this.fadeOut(document.querySelectorAll(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),300,(function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&""!==t.options.htmlClass&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.p.a),document.body.removeChild(t.p.f),e.dispatchEvent(new Event("closed.simplelightbox")),t.i=!1})),this.n=null,this.g=!1,this.h=!1,this.v)this.v[i]=0;this.v.g=!1,this.v.i=!1,this.v.p=!1,this.v.w=this.minMax(1,1,this.options.maxZoom),this.v.M=!1}},{key:"preload",value:function(){var t=this,e=this.nIndex,i=this.relatedElements.length,n=e+1<0?i-1:i-1<=e+1?0:e+1,s=e-1<0?i-1:i-1<=e-1?0:e-1,o=new Image,a=new Image;o.addEventListener("load",(function(i){var n=i.target.getAttribute("src");-1===t.q.indexOf(n)&&t.q.push(n),t.relatedElements[e].dispatchEvent(new Event("nextImageLoaded."+t.o))})),o.setAttribute("src",this.relatedElements[n].getAttribute(this.options.sourceAttr)),a.addEventListener("load",(function(i){var n=i.target.getAttribute("src");-1===t.q.indexOf(n)&&t.q.push(n),t.relatedElements[e].dispatchEvent(new Event("prevImageLoaded."+t.o))})),a.setAttribute("src",this.relatedElements[s].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(t){var e=this;this.relatedElements[this.nIndex].dispatchEvent(new Event("change."+this.o)),this.relatedElements[this.nIndex].dispatchEvent(new Event((1===t?"next":"prev")+"."+this.o));var i=this.nIndex+t;if(this.h||(i<0||i>=this.relatedElements.length)&&!1===this.options.loop)return!1;this.nIndex=i<0?this.relatedElements.length-1:i>this.relatedElements.length-1?0:i,this.p.c.querySelector(".sl-current").innerHTML=this.nIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*t-this.v.a+"px"),this.fadeOut(this.p.h,300,(function(){e.h=!0,setTimeout((function(){var i=e.relatedElements[e.nIndex];e.n.setAttribute("src",i.getAttribute(e.options.sourceAttr)),-1===e.q.indexOf(i.getAttribute(e.options.sourceAttr))&&e.show(e.p.e),e.p.h.contains(e.p.g)&&e.p.h.removeChild(e.p.g),e.adjustImage(t),e.options.preloading&&e.preload()}),100)}))}},{key:"adjustImage",value:function(t){var e=this;if(!this.n)return!1;var i=new Image,n=window.innerWidth*this.options.widthRatio,s=window.innerHeight*this.options.heightRatio;i.setAttribute("src",this.n.getAttribute("src")),this.n.dataset.scale=1,this.n.dataset.translateX=0,this.n.dataset.translateY=0,this.zoomPanElement(0,0,1),i.addEventListener("error",(function(i){e.relatedElements[e.nIndex].dispatchEvent(new Event("error."+e.o)),e.h=!1,e.g=!1,e.p.e.style.display="none";var n=1===t||-1===t;if(e.r===e.nIndex&&n)return e.close();e.options.alertError&&alert(e.options.alertErrorMessage),e.loadImage(n?t:1)})),i.addEventListener("load",(function(i){void 0!==t&&(e.relatedElements[e.nIndex].dispatchEvent(new Event("changed."+e.o)),e.relatedElements[e.nIndex].dispatchEvent(new Event((1===t?"nextDone":"prevDone")+"."+e.o))),e.options.history&&e.updateURL(),-1===e.q.indexOf(e.n.getAttribute("src"))&&e.q.push(e.n.getAttribute("src"));var o=i.target.width,a=i.target.height;if(e.options.scaleImageToRatio||n<o||s<a){var r=n/s<o/a?o/n:a/s;o/=r,a/=r}e.p.h.style.top=(window.innerHeight-a)/2+"px",e.p.h.style.left=(window.innerWidth-o-e.u)/2+"px",e.p.h.style.width=o+"px",e.p.h.style.height=a+"px",e.p.e.style.display="none",e.fadeIn(e.n,300),e.g=!0;var l,h="self"===e.options.captionSelector?e.relatedElements[e.nIndex]:e.relatedElements[e.nIndex].querySelector(e.options.captionSelector);l="data"===e.options.captionType?h.dataset[e.options.captionsData]:"text"===e.options.captionType?h.innerHTML:h.getAttribute(e.options.captionsData),e.options.loop||(0===e.nIndex&&e.hide(e.p.d.querySelector(".sl-prev")),e.nIndex>=e.relatedElements.length-1&&e.hide(e.p.d.querySelector(".sl-next")),0<e.nIndex&&e.show(e.p.d.querySelector(".sl-prev")),e.nIndex<e.relatedElements.length-1&&e.show(e.p.d.querySelector(".sl-next"))),1===e.relatedElements.length?e.hide(e.p.d.querySelectorAll(".sl-prev, .sl-next")):e.show(e.p.d.querySelectorAll(".sl-prev, .sl-next")),1===t||-1===t?(e.options.animationSlide&&(e.slide(0,100*t+"px"),setTimeout((function(){e.slide(e.options.animationSpeed/1e3,"0px")}),50)),e.fadeIn(e.p.h,300,(function(){e.h=!1,e.setCaption(l,o)}))):(e.h=!1,e.setCaption(l,o)),e.options.additionalHtml&&!e.p.i&&(e.p.i=document.createElement("div"),e.p.i.classList.add("sl-additional-html"),e.p.i.innerHTML=e.options.additionalHtml,e.p.h.appendChild(e.p.i))}))}},{key:"zoomPanElement",value:function(t,e,i){this.n.style[this.b+"transform"]="translate("+t+","+e+") scale("+i+")"}},{key:"minMax",value:function(t,e,i){return t<e?e:i<t?i:t}},{key:"setZoomData",value:function(t,e,i){this.n.dataset.scale=t,this.n.dataset.translateX=e,this.n.dataset.translateY=i}},{key:"hashchangeHandler",value:function(){this.g&&this.hash===this.e&&(this.k=!0,this.close())}},{key:"addEvents",value:function(){var t=this;this.addEventListener(window,"resize."+this.o,(function(e){t.g&&t.adjustImage()})),this.addEventListener(this.p.b,["click."+this.o,"touchstart."+this.o],this.close.bind(this)),this.options.history&&setTimeout((function(){t.addEventListener(window,"hashchange."+t.o,(function(e){t.g&&t.hashchangeHandler()}))}),40),this.addEventListener(this.p.d,"click."+this.o,(function(e){if(!e.target.tagName.match(/button/i))return!0;e.preventDefault(),t.v.a=0,t.loadImage(e.target.classList.contains("sl-next")?1:-1)})),this.addEventListener(this.p.h,["touchstart."+this.o,"mousedown."+this.o],(function(e){if("A"===e.target.tagName&&"touchstart"===e.type)return!0;if("mousedown"===e.type)t.v.s=e.clientX,t.v.t=e.clientY,t.v.j=t.getDimensions(t.p.h).height,t.v.k=t.getDimensions(t.p.h).width,t.v.n=t.getDimensions(t.n).height,t.v.o=t.getDimensions(t.n).width,t.v.l=t.p.h.offsetLeft,t.v.m=t.p.h.offsetTop,t.v.q=parseFloat(t.n.dataset.translateX),t.v.r=parseFloat(t.n.dataset.translateY),t.v.p=!0;else{if(t.v.L=e.touches.length,t.v.s=e.touches[0].clientX,t.v.t=e.touches[0].clientY,t.v.j=t.getDimensions(t.p.h).height,t.v.k=t.getDimensions(t.p.h).width,t.v.n=t.getDimensions(t.n).height,t.v.o=t.getDimensions(t.n).width,t.v.l=t.p.h.offsetLeft,t.v.m=t.p.h.offsetTop,1===t.v.L){if(t.v.M)return t.n.classList.add("sl-transition"),t.v.i?(t.v.w=1,t.setZoomData(0,0,t.v.w),t.zoomPanElement("0px","0px",t.v.w),t.v.i=!1):(t.v.w=t.options.doubleTapZoom,t.setZoomData(0,0,t.v.w),t.zoomPanElement("0px","0px",t.v.w),t.p.g.style.opacity||"none"===t.p.g.style.display||t.fadeOut(t.p.g,200),t.v.i=!0),setTimeout((function(){t.n&&t.n.classList.remove("sl-transition")}),200),!1;t.v.M=!0,setTimeout((function(){t.v.M=!1}),300),t.vinitialOffsetX=parseFloat(t.n.dataset.translateX),t.vinitialOffsetY=parseFloat(t.n.dataset.translateY)}else 2===t.v.L&&(t.v.s2=e.touches[1].clientX,t.v.t2=e.touches[1].clientY,t.vinitialOffsetX=parseFloat(t.n.dataset.translateX),t.vinitialOffsetY=parseFloat(t.n.dataset.translateY),t.v.F=(t.v.s+t.v.s2)/2,t.v.G=(t.v.t+t.v.t2)/2,t.v.x=Math.sqrt((t.v.s-t.v.s2)*(t.v.s-t.v.s2)+(t.v.t-t.v.t2)*(t.v.t-t.v.t2)));t.v.p=!0}return!!t.v.g||(t.c&&(t.v.h=parseInt(t.p.h.style.left,10)),t.v.g=!0,t.v.a=0,t.v.b=0,t.v.c=e.pageX||e.touches[0].pageX,t.v.e=e.pageY||e.touches[0].pageY,!1)})),this.addEventListener(this.p.h,["touchmove."+this.o,"mousemove."+this.o,"MSPointerMove"],(function(e){if(!t.v.g)return!0;if(e.preventDefault(),"touchmove"===e.type){if(!1===t.v.p)return!1;t.v.y=e.touches[0].clientX,t.v.z=e.touches[0].clientY,t.v.L=e.touches.length,t.v.N++,1<t.v.L?(t.v.y2=e.touches[1].clientX,t.v.z2=e.touches[1].clientY,t.v.K=Math.sqrt((t.v.y-t.v.y2)*(t.v.y-t.v.y2)+(t.v.z-t.v.z2)*(t.v.z-t.v.z2)),null===t.v.x&&(t.v.x=t.v.K),1<=Math.abs(t.v.x-t.v.K)&&(t.v.E=t.minMax(t.v.K/t.v.x*t.v.w,1,t.options.maxZoom),t.v.H=(t.v.o*t.v.E-t.v.k)/2,t.v.I=(t.v.n*t.v.E-t.v.j)/2,t.v.J=t.v.E-t.v.w,t.v.C=t.v.o*t.v.E<=t.v.k?0:t.minMax(t.v.q-(t.v.F-t.v.l-t.v.k/2-t.v.q)/(t.v.E-t.v.J)*t.v.J,-1*t.v.H,t.v.H),t.v.D=t.v.n*t.v.E<=t.v.j?0:t.minMax(t.v.r-(t.v.G-t.v.m-t.v.j/2-t.v.r)/(t.v.E-t.v.J)*t.v.J,-1*t.v.I,t.v.I),t.zoomPanElement(t.v.C+"px",t.v.D+"px",t.v.E),1<t.v.E&&(t.v.i=!0,t.p.g.style.opacity||"none"===t.p.g.style.display||t.fadeOut(t.p.g,200)),t.v.x=t.v.K,t.v.w=t.v.E,t.v.q=t.v.C,t.v.r=t.v.D)):(t.v.E=t.v.w,t.v.H=(t.v.o*t.v.E-t.v.k)/2,t.v.I=(t.v.n*t.v.E-t.v.j)/2,t.v.C=t.v.o*t.v.E<=t.v.k?0:t.minMax(t.v.y-(t.v.s-t.v.q),-1*t.v.H,t.v.H),t.v.D=t.v.n*t.v.E<=t.v.j?0:t.minMax(t.v.z-(t.v.t-t.v.r),-1*t.v.I,t.v.I),Math.abs(t.v.C)===Math.abs(t.v.H)&&(t.v.q=t.v.C,t.v.s=t.v.y),Math.abs(t.v.D)===Math.abs(t.v.I)&&(t.v.r=t.v.D,t.v.t=t.v.z),t.setZoomData(t.v.w,t.v.C,t.v.D),t.zoomPanElement(t.v.C+"px",t.v.D+"px",t.v.E))}if("mousemove"===e.type&&t.v.g){if("touchmove"==e.type)return!0;if(!1===t.v.p)return!1;t.v.y=e.clientX,t.v.z=e.clientY,t.v.E=t.v.w,t.v.H=(t.v.o*t.v.E-t.v.k)/2,t.v.I=(t.v.n*t.v.E-t.v.j)/2,t.v.C=t.v.o*t.v.E<=t.v.k?0:t.minMax(t.v.y-(t.v.s-t.v.q),-1*t.v.H,t.v.H),t.v.D=t.v.n*t.v.E<=t.v.j?0:t.minMax(t.v.z-(t.v.t-t.v.r),-1*t.v.I,t.v.I),Math.abs(t.v.C)===Math.abs(t.v.H)&&(t.v.q=t.v.C,t.v.s=t.v.y),Math.abs(t.v.D)===Math.abs(t.v.I)&&(t.v.r=t.v.D,t.v.t=t.v.z),t.setZoomData(t.v.w,t.v.C,t.v.D),t.zoomPanElement(t.v.C+"px",t.v.D+"px",t.v.E)}t.v.i||(t.v.d=e.pageX||e.touches[0].pageX,t.v.f=e.pageY||e.touches[0].pageY,t.v.a=t.v.c-t.v.d,t.v.b=t.v.e-t.v.f,t.options.animationSlide&&t.slide(0,-t.v.a+"px"))})),this.addEventListener(this.p.h,["touchend."+this.o,"mouseup."+this.o,"touchcancel."+this.o,"mouseleave."+this.o,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],(function(e){if(t.d&&"touchend"===e.type&&(t.v.L=e.touches.length,0===t.v.L?(t.setZoomData(t.v.w,t.v.C,t.v.D),1===t.v.w&&(t.v.i=!1,"none"===t.p.g.style.display&&t.fadeIn(t.p.g,200)),t.v.x=null,t.v.p=!1):1===t.v.L?(t.v.s=e.touches[0].clientX,t.v.t=e.touches[0].clientY):1<t.v.L&&(t.v.x=null)),t.v.g){var i=(t.v.g=!1,!0);t.options.loop||(0===t.nIndex&&t.v.a<0&&(i=!1),t.nIndex>=t.relatedElements.length-1&&0<t.v.a&&(i=!1)),Math.abs(t.v.a)>t.options.swipeTolerance&&i?t.loadImage(0<t.v.a?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&50<Math.abs(t.v.b)&&Math.abs(t.v.a)<t.options.swipeTolerance&&t.close()}})),this.addEventListener(this.p.h,["dblclick"],(function(e){return t.v.s=e.clientX,t.v.t=e.clientY,t.v.j=t.getDimensions(t.p.h).height,t.v.k=t.getDimensions(t.p.h).width,t.v.n=t.getDimensions(t.n).height,t.v.o=t.getDimensions(t.n).width,t.v.l=t.p.h.offsetLeft,t.v.m=t.p.h.offsetTop,t.n.classList.add("sl-transition"),t.v.i?(t.v.w=1,t.setZoomData(t.v.w,0,0),t.zoomPanElement("0px","0px",t.v.w),t.v.i=!1,"none"===t.p.g.style.display&&t.fadeIn(t.p.g,200)):(t.v.w=t.options.doubleTapZoom,t.setZoomData(t.v.w,0,0),t.zoomPanElement("0px","0px",t.v.w),t.p.g.style.opacity||"none"===t.p.g.style.display||t.fadeOut(t.p.g,200),t.v.i=!0),setTimeout((function(){t.n&&t.n.classList.remove("sl-transition")}),200),t.v.p=!0,!1}))}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),i=t.offsetHeight,n=t.offsetWidth,s=parseFloat(e.borderTopWidth);return{height:i-parseFloat(e.borderBottomWidth)-s-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom),width:n-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)}}},{key:"updateHash",value:function(){var t="pid="+(this.nIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.k=!1,this.f?window.history[this.l?"replaceState":"pushState"]("",document.title,e):this.l?window.location.replace(e):window.location.hash=t,this.l||(this.j=!0),this.l=!0}},{key:"resetHash",value:function(){this.k=!0,this.j?history.back():this.f?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.m)}},{key:"updateURL",value:function(){clearTimeout(this.m),this.l?this.m=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,e){var i=this;this.options.captions&&t&&""!==t&&void 0!==t&&(this.hide(this.p.g),this.p.g.style.width=e+"px",this.p.g.innerHTML=t,this.p.h.appendChild(this.p.g),setTimeout((function(){i.fadeIn(i.p.g,300)}),this.options.captionDelay))}},{key:"slide",value:function(t,e){if(!this.c)return this.p.h.style.left=e;this.p.h.style[this.b+"transform"]="translateX("+e+")",this.p.h.style[this.b+"transition"]=this.b+"transform "+t+"s linear"}},{key:"getRelated",value:function(t){return t&&!1!==t&&"nofollow"!==t?Array.from(this.elements).filter((function(e){return e.getAttribute("rel")===t})):this.elements}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.o)),this.options.disableScroll&&(this.u=this.toggleScrollbar("hide")),this.options.htmlClass&&""!==this.options.htmlClass&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.p.a),this.p.a.appendChild(this.p.h),this.options.overlay&&document.body.appendChild(this.p.f),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(1==this.relatedElements.length&&this.p.a.contains(this.p.c)?this.p.a.removeChild(this.p.c):1<this.relatedElements.length&&!this.p.a.contains(this.p.c)&&this.p.a.appendChild(this.p.c)),this.h=!0,this.nIndex=this.relatedElements.indexOf(t);var i=t.getAttribute(this.options.sourceAttr);this.n=document.createElement("img"),this.n.style.display="none",this.n.setAttribute("src",i),this.n.dataset.scale=1,this.n.dataset.translateX=0,this.n.dataset.translateY=0,-1===this.q.indexOf(i)&&this.q.push(i),this.p.h.innerHTML="",this.p.h.setAttribute("style",""),this.p.h.appendChild(this.n),this.fadeIn(this.p.f,300),this.fadeIn([this.p.c,this.p.d,this.p.b],300),this.show(this.p.e),this.p.c.querySelector(".sl-current").innerHTML=this.nIndex+1,this.p.c.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout((function(){t.dispatchEvent(new Event("shown."+e.o))}),this.options.animationSpeed)}},{key:"addEventListener",value:function(t,e,i,n){t=this.wrap(t),e=this.wrap(e);var s=!0,o=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(s=(r=l.next()).done);s=!0){var h=r.value;h.namespaces||(h.namespaces={});var v=!0,d=!1,p=void 0;try{for(var c,u=e[Symbol.iterator]();!(v=(c=u.next()).done);v=!0){var m=c.value,f=n||!1;h.namespaces[m]=i,h.addEventListener(m.split(".")[0],i,f)}}catch(t){d=!0,p=t}finally{try{v||null==u.return||u.return()}finally{if(d)throw p}}}}catch(t){o=!0,a=t}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var i=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value,l=!0,h=!1,v=void 0;try{for(var d,p=e[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var c=d.value;r.removeEventListener(c.split(".")[0],r.namespaces[c]),delete r.namespaces[c]}}catch(t){h=!0,v=t}finally{try{l||null==p.return||p.return()}finally{if(h)throw v}}}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}},{key:"fadeOut",value:function(t,e,i){var n=this;t=this.wrap(t);var s=!0,o=!1,a=void 0;try{for(var r,l=t[Symbol.iterator]();!(s=(r=l.next()).done);s=!0)r.value.style.opacity=1}catch(t){o=!0,a=t}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}var h=16.66666/(e||300);!function e(){var s=parseFloat(t[0].style.opacity);if((s-=h)<0){var o=!0,a=!1,r=void 0;try{for(var l,v=t[Symbol.iterator]();!(o=(l=v.next()).done);o=!0){var d=l.value;d.style.display="none",d.style.opacity=""}}catch(e){a=!0,r=e}finally{try{o||null==v.return||v.return()}finally{if(a)throw r}}i&&i.call(n,t)}else{var p=!0,c=!1,u=void 0;try{for(var m,f=t[Symbol.iterator]();!(p=(m=f.next()).done);p=!0)m.value.style.opacity=s}catch(t){c=!0,u=t}finally{try{p||null==f.return||f.return()}finally{if(c)throw u}}requestAnimationFrame(e)}}()}},{key:"fadeIn",value:function(t,e,i,n){var s=this;t=this.wrap(t);var o=!0,a=!1,r=void 0;try{for(var l,h=t[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){var v=l.value;v.style.opacity=0,v.style.display=n||"block"}}catch(t){a=!0,r=t}finally{try{o||null==h.return||h.return()}finally{if(a)throw r}}var d=parseFloat(t[0].dataset.opacityTarget||1),p=16.66666*d/(e||300);!function e(){var n=parseFloat(t[0].style.opacity);if((n+=p)>d){var o=!0,a=!1,r=void 0;try{for(var l,h=t[Symbol.iterator]();!(o=(l=h.next()).done);o=!0)l.value.style.opacity=""}catch(e){a=!0,r=e}finally{try{o||null==h.return||h.return()}finally{if(a)throw r}}i&&i.call(s,t)}else{var v=!0,c=!1,u=void 0;try{for(var m,f=t[Symbol.iterator]();!(v=(m=f.next()).done);v=!0)m.value.style.opacity=n}catch(t){c=!0,u=t}finally{try{v||null==f.return||f.return()}finally{if(c)throw u}}requestAnimationFrame(e)}}()}},{key:"hide",value:function(t){t=this.wrap(t);var e=!0,i=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;a.dataset.initialDisplay=a.style.display,a.style.display="none"}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"show",value:function(t,e){t=this.wrap(t);var i=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;r.style.display=r.dataset.initialDisplay||e||"block"}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}}},{key:"wrap",value:function(t){return"function"==typeof t[Symbol.iterator]&&"string"!=typeof t?t:[t]}},{key:"on",value:function(t,e){t=this.wrap(t);var i=!0,n=!1,s=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var r=o.value;r.fullyNamespacedEvents||(r.fullyNamespacedEvents={});var l=!0,h=!1,v=void 0;try{for(var d,p=t[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var c=d.value;r.fullyNamespacedEvents[c]=e,r.addEventListener(c,e)}}catch(t){h=!0,v=t}finally{try{l||null==p.return||p.return()}finally{if(h)throw v}}}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}return this}},{key:"off",value:function(t){t=this.wrap(t);var e=!0,i=!1,n=void 0;try{for(var s,o=this.elements[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value,r=!0,l=!1,h=void 0;try{for(var v,d=t[Symbol.iterator]();!(r=(v=d.next()).done);r=!0){var p=v.value;p in a.fullyNamespacedEvents&&a.removeEventListener(p,a.fullyNamespacedEvents[p])}}catch(t){l=!0,h=t}finally{try{r||null==d.return||d.return()}finally{if(l)throw h}}}}catch(t){i=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw n}}return this}},{key:"open",value:function(t){t=t||this.elements[0],this.r=this.elements.indexOf(t),this.openImage(t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"destroy",value:function(){this.off(["close."+this.o,"closed."+this.o,"nextImageLoaded."+this.o,"prevImageLoaded."+this.o,"change."+this.o,"nextDone."+this.o,"prevDone."+this.o,"error."+this.o,"changed."+this.o,"next."+this.o,"prev."+this.o,"show."+this.o,"shown."+this.o]),this.removeEventListener(this.elements,"click."+this.o),this.removeEventListener(document.body,"contextmenu."+this.o),this.removeEventListener(document.body,"keyup."+this.o),this.removeEventListener(this.p.d,"click."+this.o),this.removeEventListener(this.p.b,"click."+this.o),this.removeEventListener(window,"resize."+this.o),this.removeEventListener(window,"hashchange."+this.o),this.close(),this.g&&(document.body.removeChild(this.p.a),document.body.removeChild(this.p.f)),this.elements=null}},{key:"refresh",value:function(){if(!this.t)throw"refreshing only works when you initialize using a selector!";var t=this.options,e=this.t;return this.destroy(),this.constructor(e,t),this}},{key:"hash",get:function(){return window.location.hash.substring(1)}}]),t}();
//# sourceMappingURL=01-gallery.dd028ff6.js.map
